CREATE TABLE [dbo].[CrimeCadastrado] (
    [Id] [int] NOT NULL IDENTITY,
    [Descricao] [nvarchar](max) NOT NULL,
    [Data] [datetime] NOT NULL,
    [Periodo] [nvarchar](15),
    [TipoCrimeId] [int] NOT NULL,
    [EnderecoId] [int] NOT NULL,
    [Endereco_Cep] [nvarchar](128) NOT NULL,
    CONSTRAINT [PK_dbo.CrimeCadastrado] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_TipoCrimeId] ON [dbo].[CrimeCadastrado]([TipoCrimeId])
CREATE INDEX [IX_Endereco_Cep] ON [dbo].[CrimeCadastrado]([Endereco_Cep])
CREATE TABLE [dbo].[Endereco] (
    [Cep] [nvarchar](128) NOT NULL,
    [CidadeBO] [nvarchar](50),
    [Bairro] [nvarchar](max),
    [Logradouro] [nvarchar](max),
    [Numero] [int] NOT NULL,
    CONSTRAINT [PK_dbo.Endereco] PRIMARY KEY ([Cep])
)
CREATE TABLE [dbo].[CrimeSSP] (
    [Id] [int] NOT NULL IDENTITY,
    [Descricao] [nvarchar](max),
    [Data] [datetime] NOT NULL,
    [Periodo] [nvarchar](max),
    [TipoCrimeId] [int] NOT NULL,
    [EnderecoId] [int] NOT NULL,
    [Endereco_Cep] [nvarchar](128) NOT NULL,
    CONSTRAINT [PK_dbo.CrimeSSP] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_TipoCrimeId] ON [dbo].[CrimeSSP]([TipoCrimeId])
CREATE INDEX [IX_Endereco_Cep] ON [dbo].[CrimeSSP]([Endereco_Cep])
CREATE TABLE [dbo].[TipoCrime] (
    [Id] [int] NOT NULL IDENTITY,
    [Nome] [nvarchar](max) NOT NULL,
    CONSTRAINT [PK_dbo.TipoCrime] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[VitimaCrimeCadastrado] (
    [CrimeCadastradoId] [int] NOT NULL,
    [VitimaId] [int] NOT NULL,
    CONSTRAINT [PK_dbo.VitimaCrimeCadastrado] PRIMARY KEY ([CrimeCadastradoId], [VitimaId])
)
CREATE INDEX [IX_CrimeCadastradoId] ON [dbo].[VitimaCrimeCadastrado]([CrimeCadastradoId])
CREATE INDEX [IX_VitimaId] ON [dbo].[VitimaCrimeCadastrado]([VitimaId])
CREATE TABLE [dbo].[Vitima] (
    [Id] [int] NOT NULL IDENTITY,
    [Nome] [nvarchar](max) NOT NULL,
    [DataNascimento] [datetime] NOT NULL,
    [Email] [nvarchar](max) NOT NULL,
    CONSTRAINT [PK_dbo.Vitima] PRIMARY KEY ([Id])
)
ALTER TABLE [dbo].[CrimeCadastrado] ADD CONSTRAINT [FK_dbo.CrimeCadastrado_dbo.Endereco_Endereco_Cep] FOREIGN KEY ([Endereco_Cep]) REFERENCES [dbo].[Endereco] ([Cep]) ON DELETE CASCADE
ALTER TABLE [dbo].[CrimeCadastrado] ADD CONSTRAINT [FK_dbo.CrimeCadastrado_dbo.TipoCrime_TipoCrimeId] FOREIGN KEY ([TipoCrimeId]) REFERENCES [dbo].[TipoCrime] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[CrimeSSP] ADD CONSTRAINT [FK_dbo.CrimeSSP_dbo.Endereco_Endereco_Cep] FOREIGN KEY ([Endereco_Cep]) REFERENCES [dbo].[Endereco] ([Cep]) ON DELETE CASCADE
ALTER TABLE [dbo].[CrimeSSP] ADD CONSTRAINT [FK_dbo.CrimeSSP_dbo.TipoCrime_TipoCrimeId] FOREIGN KEY ([TipoCrimeId]) REFERENCES [dbo].[TipoCrime] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[VitimaCrimeCadastrado] ADD CONSTRAINT [FK_dbo.VitimaCrimeCadastrado_dbo.CrimeCadastrado_CrimeCadastradoId] FOREIGN KEY ([CrimeCadastradoId]) REFERENCES [dbo].[CrimeCadastrado] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[VitimaCrimeCadastrado] ADD CONSTRAINT [FK_dbo.VitimaCrimeCadastrado_dbo.Vitima_VitimaId] FOREIGN KEY ([VitimaId]) REFERENCES [dbo].[Vitima] ([Id]) ON DELETE CASCADE
CREATE TABLE [dbo].[__MigrationHistory] (
    [MigrationId] [nvarchar](150) NOT NULL,
    [ContextKey] [nvarchar](300) NOT NULL,
    [Model] [varbinary](max) NOT NULL,
    [ProductVersion] [nvarchar](32) NOT NULL,
    CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId], [ContextKey])
)
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201903142326270_BDInicial', N'TCCSafeSpot.Migrations.Configuration',  0x1F8B0800000000000400ED5DCD6EE43612BE2F90771074DA5D386EDB830089D19D60A63D5E1819FF60BA67B0378396D86D66254A2B51868D204F96C33ED2BE4228A92551FC1329A97F8C317CB129F263B15855AC2259F4FFFFFCDFF497E730709E6092A208CFDCD3E313D781D88B7C84D7333723ABEF7F747FF9F9BBBF4D3FFAE1B3F3B5AAF72EAF475BE274E63E12129F4F26A9F70843901E87C84BA2345A91632F0A27C08F266727273F4D4E4F279042B814CB71A69F334C50088B3FE89FF3087B30261908AE231F06E9A69C7E5914A8CE0D08611A030FCEDC254C09C07EF4E1E22E897E83245ACEE7C76533D7791F2040495AC060E53A00E3880042093EFF92C2054922BC5EC4B40004CB9718D27A2B10A4703390F3A6BAE9984ECEF2314D9A86159497A5240A2D014FDF6D9834E19BF762B55B3391B2F123653779C9475DB072E6CE13CAFE39F0414A12DAD075F83ECFE74192D7D732FC98833972E8B70558C1451C91A35A5CA854E53F47CE3C0B4896C0198619AD1F1C3977D94380BC5FE1CB32FA0FC4339C05014B37A59C7E6B15D0224A460C13F2F219AE36A3B9F25D67D26E37E11BD6CD9836E500AF307977E63A37B473F010C05A2C18662C4894C07F410C1340A07F07088109CE3160C158A177AEAF0B987A09F24054754985912A98EB5C83E74F10AFC9E3CCA5BFBACE257A867E55B221E30B46541F6923926450426647D78080AA57FA3B5CD209B306B983098A7C1DF5A73F1811AFEF6689E2A890A8EEB9D1037DC43E4CA01759E3DC8027B42EA65C81E83A9F615054481F515C5A1A5E0BEE9BCA9749147E8E0251E1EA3AF78B284B3C4AC932EAA8B804C91A1273926B6E1AD1CCD456135D57EAA4BAA9694BF657445706904A892EBFF17D09B6AC198051839AC46A3066AD2A16B0039B4E1A4BABB5BF8D88F433BC55FB7D59DC398CED4D6ED1486D42CE7EDC86019C231FF8F0C3ADA6E71F4E46305E1F004A92310CBCBE9B4FD13A97BE6C075DDD64216CBA196A410BF5491BFD916BF82053CAEB71A7CDB5A37DB1B853D34C3FAA89653FCAA96CD51864592AB8412E1D6DFFE6CBC9FB1AD3973B08D76D1C625FB5EF66AEBC52BF47AADE23BA6939BEDA3F6B7D5513A8F7C88CCD0B43473FFB5203BC1918795F3751CEDCADC789232FD496F143D7522D0AF4C86BB5A93E29576B3D85C6FA248D35FAEA96146C6F21429B0C51EDA4ADCA21F4D151497F43D6A1869011FD5F768A7717DFF26B825D546C17B86BC6752FB12CFC50C43A8AE85C5271043D1CA6786F2B9ABCAF1DAD6812F7F906A41E15134CA2C18EF4C710A0E0F0D7E541AA2637141A9D3451B5F7691A79A8A0930B511B9FBBCD025AEC743AE0E53CB06B3A9D0EAA6028A62A45C998B9FF1478AB03AECD4C03DC84046DE05397D7C95B7C010348A0F3DE2BCF7BE654F0802FCE2EE591DFE219C31D43A6359E4BE7E02461C1486C9338480D32E35B6D8B71F919225CD1D9C1F971DE9CAA00954C8489682C11F6500C82CE01702D0D0D6D4E59DD07FFE502C610E736B2735E4C3A6F45D8221575671CDFBAD8642B82B2CD39ADB8680F3D387164BD1C4BA9D46E081EB24E4B8328D3A1766BF8382C7DD5FAAE1BC7AED45E3767AF43FBCD8213954059462A8D702902647351B63C0334569FFD0BB7D5C87620E856736C428FC916C2EE445FE254EB654EE761F302BE55E932204C22FF3D356F8028AB19B633E955B3C68404D5EED556E4B40CB7681B425BC0A43AF0293727F262F84C241B1A5F52B8D9D3483731292F2C39EC0212D5C65513E6A90CA5608BDB888D0F2640359F3A309AE8454E4EF1A90383F15B0410E65B078A544D602AC154285417FE55691F1470427B465A447631C75C4C3DE559182FC42691794D3F3B49823A9884E20C92522E26EDE1DAB08299620D2F143EB969C0DD9B1BA2C7CD40A9A5B3273FA4572E145CE98C00ED62409E436AD5B00BFAB6283DF273AF6E7619CB9236C21B89613B1330C3530D917D3D228E013107337AA549D7B0D72ECC309FC3DE0C97ED01AB78DCE5DADA39B72C27AF646B949D4B6A3F311A9E55BBD4B5DB547F9B4ECA64834DC174A2C84A985E83384678CD64296C4A9C4599A230FF7E617F653F2C31265E8BF5BC9357F744A204AC21F795764D29BD44494AF2D38F07909F2FCCFD50A8C639890A07A4EA4CEE078A335AF92755BBFCF78DA7659E4320F1B337789774C4F9594E3178A8D12001C1C91349400012C921D83C0AB210AB2308756BE626180BC2145B601577BD5A30458939427DD18B05A90BCD715A1B4D2C9676074A8DC7DEE762E1D872116D3AE1265D08A704711382E0B6141BC9B8C69FE927DC2A4003A9563755B1BAB85FCDF258724B5BDBBEBE2ADD02A94BCD91AACBD02C4E55668EC2DE756691D87273B4EA3A338B54951D8C00D631C2A8D65502686A56A54DDFECE99B3D3512675DC0D34F9E95880602AD69BB1D892E2FBEB40C4E2486547B9C1F953F3DD66CC977BCEC67CE1047B9B089E708AD15AEFB98418DDD6CF9B290EA8DE0FDCD75198A8D3BB5BDE7F2F05450B794B0F7C8F84585FD6661C6CBEB642D0B5E16ED5E60DAC1B2DC2161B605ED1C0FA6A1A983916F0EC83458B6492C32CBCC35AE71A43E7271865641F4A14E796CD55BC4D524F1BB1DFDE658BA03DC2B82EF9A71FDDE9DDE741FF0FC6BF6B80F440C84BD2FBE4A6D68EA3D306EAF6BBAD977EA7EA643D8882AABB80EA5FD09F9F926D4E22525303CCE2B1C2FFE1BCC03444D5B53E11A60B4A25257DE8D76CF4E4ECFB8073E0EE7B18D499AFA8164DF4EF3E2467BEE7670CF1BE5CCEDBCC96D7BC99ACF86C44F20F11E41F2F7103CFF63D06B153EA590A0E1298F1545C27B150D6CCF04C782A3C2F9FA1555FEE799FB7BD1EEDCB9FAF73DD3F4C8B94DA86C9F3B27CE1F23A4461614F444B967D2F11B1E190C8705688F87CFE6D75266FF56420F9519FA4E815C783AC726C1E49E219002E70F11D84965FBD501A5F2F57B5960105CFBF5806E41B54F70FFD62CA86DCEF8D806B417416F66735F66537599FCB52A0A9B4566E3658C9E8A5B4FED1FAF3A2DD6540D058041CAC8A7D59A5251B5B3E8DC36F7F3DB5613F95A222650F65E555A09946328F090C4C2F616C7CE72831CE14256711FB057565EAF7BD69AF36823E7D9E993EF66D459D786CCAEF2DBCC522C99FB713B4F84DAAF04E90EE0B69631F94A52A4CCAEC71EA219621D9E211984AFC428690F230FD73659A58A1E9089DAAB74EDDE60594AD7FEEDD6B0D4CE0153BCD52C371D5DBBCC6DEB2313DBC8C4FC16522EF79D59792832A7BC9D7140A27600C992E275797E7A07E74296E79E346E7EC8A5A10C72BB523E7A254CCA3A1A379D52399411932D657D0CCCC534CFC49475DE33691375246DAABBDA5342272F63DAC43945146A90EC7818099B8230EA93DE763FDCEDE5630E9C6751ADB694C4A60E78464AB41C2C033B63C5DE1228070CD3C437EABCE0FB4A52212523D9333B2CB21CC51B5DD4CB62FE3D1375F852B46E20F27FD684A1D7F2AFEA3A577815558E1E475155853B15B886840E9080F709412BE011FAD983695ABCAEF81504597170F000FD2B7C9B91382374C8307C085A6F4EE6EEA2AEFF2295B34DF3F4362E1E4E1C6308944C949F8ADCE20F190AFC9AEE4BC951860222F743376740F95C92FC2C68FD5223DD44D81068C3BEDA7D5EC2300E28587A8B17E009F6A1ED4B0A3FC135F05EAA8B796A90EE8968B37D7A81C03A0161BAC168DAD33FA90CFBE1F3CF7F0137EA8213A56C0000 , N'6.2.0-61023')

